set-option -sg escape-time 0
set-option -g default-terminal "screen-256color"

set-option -g default-shell /bin/zsh
# re-number windows when one is closed
set -g renumber-windows on

# enable pbcopy and pbpaste support
# https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard/blob/master/README.md
#  brew install reattach-to-user-namespace
set-option -g default-command "reattach-to-user-namespace -l zsh"


# Use vim keybindings in copy mode
set-window-option -g mode-keys vi;
bind-key -T copy-mode-vi v send -X begin-selection;
bind-key -T copy-mode-vi V send -X select-line;
bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

bind -T copy-mode-vi y send -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` and `Space to also use copy-pipe
unbind -T copy-mode-vi Enter
unbind -T copy-mode-vi Space

bind-key -T edit-mode-vi Up send-keys -X history-up
bind-key -T edit-mode-vi Down send-keys -X history-down

# setup 'v' to begin selection as in Vim
bind-key -T copy-mode-vi 'v' send-keys -X begin-selection

# copy text with `y` in copy mode
# bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel\; run "tmux save -|pbcopy >/dev/null 2>&1"
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# copy text with mouse selection without pressing any key
bind-key -T copy-mode-vi MouseDragEnd1Pane send -X copy-selection-and-cancel\; run "tmux save -|pbcopy >/dev/null 2>&1"
# bind-key -T copy-mode-vi MouseDragEnd1Pane send -X copy-selection-and-cancel

# focus events enabled for terminals that support them
set -g focus-events on

# # Mouse mode on
set -g terminal-overrides 'xterm*:smcup@:rmcup@'
set -g mouse on

# Set title
set -g set-titles on
set -g set-titles-string "#T"


